import{b as w,r as u,o as g,j as e,s as a}from"./main-Cj5NYhJq.js";import{u as y,a as b,F as v,c as o,d as t,e as n,f as l,g as i}from"./form-CC6udyyt.js";import{a as F}from"./client-G8hl_OpT.js";import{B as N}from"./button-cJjcAD9d.js";import{I as c}from"./input-DLMUXFSQ.js";import{A as P,a as C}from"./alert-CMRyLF3j.js";import"./utils-CDN07tui.js";import"./label-CyVxfSYH.js";import"./index-B_jtOnfb.js";const S=g({name:a().min(2,"Name must be at least 2 characters"),email:a().email("Invalid email address"),phone:a().optional(),password:a().min(8,"Password must be at least 8 characters"),confirmPassword:a()}).refine(m=>m.password===m.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function A(){const m=w(),[d,x]=u.useState(null),[p,h]=u.useState(!1),r=y({resolver:b(S),defaultValues:{name:"",email:"",phone:"",password:"",confirmPassword:""}}),f=async s=>{try{x(null),h(!0),await F.email({name:s.name,email:s.email,password:s.password}),m({to:"/dashboard"})}catch(j){x(j instanceof Error?j.message:"Failed to create account. Please try again.")}finally{h(!1)}};return e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Create Parent Account"}),e.jsx("p",{className:"text-muted-foreground",children:"Get started with registering your child for soccer"})]}),d&&e.jsx(P,{variant:"destructive",children:e.jsx(C,{children:d})}),e.jsx(v,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(f),className:"space-y-4",children:[e.jsx(o,{control:r.control,name:"name",render:({field:s})=>e.jsxs(t,{children:[e.jsx(n,{children:"Full Name"}),e.jsx(l,{children:e.jsx(c,{type:"text",placeholder:"John Doe",autoComplete:"name",...s})}),e.jsx(i,{})]})}),e.jsx(o,{control:r.control,name:"email",render:({field:s})=>e.jsxs(t,{children:[e.jsx(n,{children:"Email"}),e.jsx(l,{children:e.jsx(c,{type:"email",placeholder:"parent@example.com",autoComplete:"email",...s})}),e.jsx(i,{})]})}),e.jsx(o,{control:r.control,name:"phone",render:({field:s})=>e.jsxs(t,{children:[e.jsx(n,{children:"Phone (Optional)"}),e.jsx(l,{children:e.jsx(c,{type:"tel",placeholder:"(555) 123-4567",autoComplete:"tel",...s})}),e.jsx(i,{})]})}),e.jsx(o,{control:r.control,name:"password",render:({field:s})=>e.jsxs(t,{children:[e.jsx(n,{children:"Password"}),e.jsx(l,{children:e.jsx(c,{type:"password",autoComplete:"new-password",...s})}),e.jsx(i,{})]})}),e.jsx(o,{control:r.control,name:"confirmPassword",render:({field:s})=>e.jsxs(t,{children:[e.jsx(n,{children:"Confirm Password"}),e.jsx(l,{children:e.jsx(c,{type:"password",autoComplete:"new-password",...s})}),e.jsx(i,{})]})}),e.jsx(N,{type:"submit",className:"w-full",disabled:p,children:p?"Creating account...":"Create Account"})]})}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx("a",{href:"/auth/sign-in",className:"text-primary hover:underline",children:"Sign in"})]})]})}function M(){return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted/40 px-4 py-12",children:e.jsx(A,{})})}export{M as component};
