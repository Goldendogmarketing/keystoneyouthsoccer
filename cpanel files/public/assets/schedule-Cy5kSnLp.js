import{k as $,l as B,r as b,j as e}from"./main-Cj5NYhJq.js";import{u as F}from"./useQuery-Dpd-_BN-.js";import{C as p,b as v,a as j}from"./card-Ck-Z1Ioi.js";import{B as y}from"./button-cJjcAD9d.js";import{c as C}from"./utils-CDN07tui.js";import{C as q}from"./calendar-jDKXpgky.js";import{C as z}from"./chevron-left-C6UyHtVM.js";import{C as W}from"./chevron-right-CCqzOlOj.js";import{C as E}from"./clock-C1xtiy3x.js";import{M as J}from"./map-pin-DNGYzB5p.js";import"./useBaseQuery-BBplwDo0.js";import"./index-B_jtOnfb.js";const O=$({method:"GET"}).handler(B("1f58016084030aaf026c40fb370b68de1276598da27814922740992da993655c"));function se(){const[t,i]=b.useState(null),[l,c]=b.useState(new Date),{data:m,isLoading:r}=F({queryKey:["schedule-games"],queryFn:async()=>await O()}),a=m?.leagues||[],x=m?.season,h=t||a[0]?.ageGroup||null,d=a.find(n=>n.ageGroup===h);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"relative bg-primary pt-32 pb-16",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("h1",{className:"mb-4 text-4xl font-bold tracking-tight md:text-5xl",children:"Game Schedule"}),e.jsx("p",{className:"mx-auto max-w-2xl text-lg text-white/80",children:x?`${x.name} Season Schedule`:"View all upcoming games and results"})]})})}),e.jsx("section",{className:"border-b bg-card sticky top-16 md:top-20 z-40",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto py-4 scrollbar-hide",children:[a.map(n=>e.jsx(y,{variant:h===n.ageGroup?"default":"outline",size:"sm",onClick:()=>i(n.ageGroup),className:"whitespace-nowrap",children:n.ageGroup},n.ageGroup)),a.length===0&&!r&&e.jsx("p",{className:"text-muted-foreground",children:"No leagues available"})]})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-6",children:r?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):d?e.jsxs("div",{className:"grid gap-8 lg:grid-cols-4",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(p,{children:[e.jsx(v,{children:e.jsx("h3",{className:"font-semibold",children:"Teams"})}),e.jsxs(j,{className:"space-y-2",children:[d.teams.map(n=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-4 w-4 rounded-full flex-shrink-0",style:{backgroundColor:n.color}}),e.jsx("span",{className:"text-sm truncate",children:n.name})]},n.id)),d.teams.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No teams yet"})]})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(R,{games:d.games,currentMonth:l,onMonthChange:c})})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(q,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Schedule Available"}),e.jsx("p",{className:"text-muted-foreground",children:"The schedule for this season hasn't been posted yet."})]})})})]})}function R({games:t,currentMonth:i,onMonthChange:l}){const[c,m]=b.useState(null),r=i.getFullYear(),a=i.getMonth(),x=new Date(r,a,1),h=new Date(r,a+1,0),d=x.getDay(),n=h.getDate(),g=[];for(let s=0;s<d;s++)g.push(null);for(let s=1;s<=n;s++)g.push(s);const T=s=>{const f=`${r}-${String(a+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`;return t.filter(o=>o.scheduledAt.startsWith(f))},G=()=>{l(new Date(r,a-1,1))},M=()=>{l(new Date(r,a+1,1))},A=["January","February","March","April","May","June","July","August","September","October","November","December"],L=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],w=c?t.filter(s=>s.scheduledAt.startsWith(c)):[];return e.jsxs("div",{className:"space-y-6",children:[e.jsx(p,{children:e.jsxs(j,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(y,{variant:"outline",size:"icon",onClick:G,children:e.jsx(z,{className:"h-4 w-4"})}),e.jsxs("h2",{className:"text-xl font-semibold",children:[A[a]," ",r]}),e.jsx(y,{variant:"outline",size:"icon",onClick:M,children:e.jsx(W,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:L.map(s=>e.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:s},s))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:g.map((s,f)=>{if(s===null)return e.jsx("div",{className:"aspect-square"},`empty-${f}`);const o=`${r}-${String(a+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`,u=T(s),N=c===o,S=new Date().toISOString().split("T")[0]===o;return e.jsxs("button",{onClick:()=>m(N?null:o),className:C("aspect-square p-1 rounded-lg border transition-all relative",N?"border-primary bg-primary/10":"border-transparent hover:bg-muted",S&&!N&&"border-primary/50"),children:[e.jsx("span",{className:C("text-sm",S&&"font-bold text-primary"),children:s}),u.length>0&&e.jsxs("div",{className:"absolute bottom-1 left-1 right-1 flex justify-center gap-0.5 flex-wrap",children:[u.slice(0,3).map(D=>e.jsx("div",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:D.homeTeam?.color||"#6B7280"}},D.id)),u.length>3&&e.jsxs("span",{className:"text-[8px] text-muted-foreground",children:["+",u.length-3]})]})]},s)})})]})}),c&&e.jsxs(p,{children:[e.jsx(v,{children:e.jsxs("h3",{className:"font-semibold",children:["Games on ",new Date(c+"T12:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]})}),e.jsx(j,{children:w.length>0?e.jsx("div",{className:"space-y-3",children:w.map(s=>e.jsx(k,{game:s},s.id))}):e.jsx("p",{className:"text-muted-foreground text-sm",children:"No games scheduled for this date."})})]}),e.jsxs(p,{children:[e.jsx(v,{children:e.jsx("h3",{className:"font-semibold",children:"Upcoming Games"})}),e.jsx(j,{children:t.filter(s=>s.status==="scheduled"&&new Date(s.scheduledAt)>=new Date).length>0?e.jsx("div",{className:"space-y-3",children:t.filter(s=>s.status==="scheduled"&&new Date(s.scheduledAt)>=new Date).slice(0,5).map(s=>e.jsx(k,{game:s},s.id))}):e.jsx("p",{className:"text-muted-foreground text-sm",children:"No upcoming games scheduled."})})]})]})}function k({game:t}){const i=new Date(t.scheduledAt),l=t.status==="completed";return e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-muted/50 border",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"h-3 w-3 rounded-full flex-shrink-0",style:{backgroundColor:t.homeTeam?.color||"#6B7280"}}),e.jsx("span",{className:"font-medium truncate",children:t.homeTeam?.name||"TBD"}),l&&e.jsx("span",{className:"font-bold text-sm",children:t.homeScore})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-3 w-3 rounded-full flex-shrink-0",style:{backgroundColor:t.awayTeam?.color||"#6B7280"}}),e.jsx("span",{className:"font-medium truncate",children:t.awayTeam?.name||"TBD"}),l&&e.jsx("span",{className:"font-bold text-sm",children:t.awayScore})]})]}),e.jsxs("div",{className:"text-right text-sm flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-end gap-1 text-muted-foreground",children:[e.jsx(E,{className:"h-3 w-3"}),e.jsx("span",{children:i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-1 text-muted-foreground",children:[e.jsx(J,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate max-w-24",children:t.field||t.location})]})]}),l&&e.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:"Final"})]})}export{se as component};
