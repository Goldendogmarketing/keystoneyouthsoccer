import{b as v,r as t,o as N,j as s,s as c}from"./main-Cj5NYhJq.js";import{u as b,a as S,F,c as d,d as p,e as u,f as x,g as h}from"./form-CC6udyyt.js";import{b as E}from"./client-G8hl_OpT.js";import{B as j}from"./button-cJjcAD9d.js";import{I as f}from"./input-DLMUXFSQ.js";import{A as I,a as C}from"./alert-CMRyLF3j.js";import{E as P}from"./eye-off-BVArP0Fi.js";import{E as A}from"./eye-CG1dm97g.js";import"./utils-CDN07tui.js";import"./label-CyVxfSYH.js";import"./index-B_jtOnfb.js";const B=N({email:c().email("Invalid email address"),password:c().min(8,"Password must be at least 8 characters")});function L(){const g=v(),[o,n]=t.useState(null),[i,l]=t.useState(!1),[a,w]=t.useState(!1),r=b({resolver:S(B),defaultValues:{email:"",password:""}}),y=async e=>{try{n(null),l(!0),await E.email({email:e.email,password:e.password}),g({to:"/dashboard"})}catch(m){n(m instanceof Error?m.message:"Failed to sign in. Please try again.")}finally{l(!1)}};return s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"space-y-2 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Welcome Back"}),s.jsx("p",{className:"text-muted-foreground",children:"Sign in to your parent account"})]}),o&&s.jsx(I,{variant:"destructive",children:s.jsx(C,{children:o})}),s.jsx(F,{...r,children:s.jsxs("form",{onSubmit:r.handleSubmit(y),className:"space-y-4",children:[s.jsx(d,{control:r.control,name:"email",render:({field:e})=>s.jsxs(p,{children:[s.jsx(u,{children:"Email"}),s.jsx(x,{children:s.jsx(f,{type:"email",placeholder:"parent@example.com",autoComplete:"email",...e})}),s.jsx(h,{})]})}),s.jsx(d,{control:r.control,name:"password",render:({field:e})=>s.jsxs(p,{children:[s.jsx(u,{children:"Password"}),s.jsx(x,{children:s.jsxs("div",{className:"relative",children:[s.jsx(f,{type:a?"text":"password",autoComplete:"current-password",...e}),s.jsxs(j,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>w(!a),children:[a?s.jsx(P,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(A,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"sr-only",children:a?"Hide password":"Show password"})]})]})}),s.jsx(h,{})]})}),s.jsx(j,{type:"submit",className:"w-full",disabled:i,children:i?"Signing in...":"Sign In"})]})}),s.jsxs("div",{className:"space-y-2 text-center text-sm",children:[s.jsx("a",{href:"/auth/reset-password",className:"text-primary hover:underline",children:"Forgot your password?"}),s.jsxs("div",{className:"text-muted-foreground",children:["Don't have an account?"," ",s.jsx("a",{href:"/auth/sign-up",className:"text-primary hover:underline",children:"Sign up"})]})]})]})}function J(){return s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted/40 px-4 py-12",children:s.jsx(L,{})})}export{J as component};
