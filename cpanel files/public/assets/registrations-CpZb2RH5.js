import{k as d,l as c,j as e,L as o}from"./main-Cj5NYhJq.js";import{u as l}from"./useQuery-Dpd-_BN-.js";import{C as m,b as x,a as u,c as g}from"./card-Ck-Z1Ioi.js";import{B as p}from"./button-cJjcAD9d.js";import{B as h}from"./badge-BpQfvpTv.js";import{U as f}from"./user-8El9Vdva.js";import{C as j}from"./calendar-jDKXpgky.js";import{D as N}from"./dollar-sign-D8tiukVU.js";import{A as y,a as b}from"./alert-CMRyLF3j.js";import{F as C}from"./file-text-Hyj7JkLp.js";import"./useBaseQuery-BBplwDo0.js";import"./utils-CDN07tui.js";import"./index-B_jtOnfb.js";const w=d({method:"GET"}).handler(c("f71bc694ce7412b4c9d3457f1a5fb6ed21543db26beddb65c47bdf2c3137546e"));function v({registration:t,player:a,season:s}){const n=r=>{switch(r){case"paid":return"bg-green-500";case"pending_payment":return"bg-yellow-500";case"cancelled":return"bg-red-500";default:return"bg-gray-500"}},i=r=>{switch(r){case"paid":return"Confirmed";case"pending_payment":return"Pending Payment";case"cancelled":return"Cancelled";default:return r}};return e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.firstName," ",a.lastName]})]}),e.jsx(h,{className:n(t.status),children:i(t.status)})]})}),e.jsxs(u,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(f,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[a.firstName," ",a.lastName]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(j,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["Registered ",new Date(t.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(N,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["$",parseFloat(t.amount).toFixed(2)]})]})]}),t.status==="pending_payment"&&e.jsx(g,{children:e.jsx(p,{asChild:!0,className:"w-full",children:e.jsx(o,{to:"/register/success",search:{registrationId:t.id},children:"Complete Payment"})})})]})}function U(){const{data:t,isLoading:a}=l({queryKey:["dashboard-registrations"],queryFn:async()=>await w()});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Registrations"}),e.jsx("p",{className:"text-muted-foreground",children:"View and manage your player registrations"})]}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading registrations..."})}):t&&t.length>0?e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:t.map(s=>e.jsx(v,{registration:{id:s.registration.id,status:s.registration.status,paymentStatus:s.registration.paymentStatus,amount:s.registration.amount,createdAt:s.registration.createdAt},player:{firstName:s.player.firstName,lastName:s.player.lastName},season:{name:s.season.name}},s.registration.id))}):e.jsxs(y,{children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx(b,{children:"No registrations yet. Start by registering a player for the current season."})]})]})}export{U as component};
