import{r as t,o as h,j as e,s as p}from"./main-Cj5NYhJq.js";import{u as f,a as j,F as y,c as g,d as N,e as v,f as w,g as b}from"./form-CC6udyyt.js";import{B as F}from"./button-cJjcAD9d.js";import{I as S}from"./input-DLMUXFSQ.js";import{A as m,a as d}from"./alert-CMRyLF3j.js";import"./utils-CDN07tui.js";import"./label-CyVxfSYH.js";import"./index-B_jtOnfb.js";const k=h({email:p().email("Invalid email address")});function E(){const[a,n]=t.useState(null),[u,l]=t.useState(!1),[o,i]=t.useState(!1),r=f({resolver:j(k),defaultValues:{email:""}}),x=async c=>{try{n(null),i(!0),await new Promise(s=>setTimeout(s,1e3)),l(!0)}catch(s){n(s instanceof Error?s.message:"Failed to send reset email. Please try again.")}finally{i(!1)}};return u?e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Check Your Email"}),e.jsx("p",{className:"text-muted-foreground",children:"We've sent you a password reset link. Please check your email and follow the instructions."})]}),e.jsx(m,{children:e.jsxs(d,{children:["If you don't see the email, check your spam folder or"," ",e.jsx("button",{onClick:()=>l(!1),className:"text-primary hover:underline",children:"try again"}),"."]})}),e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:e.jsx("a",{href:"/auth/sign-in",className:"text-primary hover:underline",children:"Back to sign in"})})]}):e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Reset Password"}),e.jsx("p",{className:"text-muted-foreground",children:"Enter your email address and we'll send you a link to reset your password"})]}),a&&e.jsx(m,{variant:"destructive",children:e.jsx(d,{children:a})}),e.jsx(y,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(x),className:"space-y-4",children:[e.jsx(g,{control:r.control,name:"email",render:({field:c})=>e.jsxs(N,{children:[e.jsx(v,{children:"Email"}),e.jsx(w,{children:e.jsx(S,{type:"email",placeholder:"parent@example.com",autoComplete:"email",...c})}),e.jsx(b,{})]})}),e.jsx(F,{type:"submit",className:"w-full",disabled:o,children:o?"Sending...":"Send Reset Link"})]})}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Remember your password?"," ",e.jsx("a",{href:"/auth/sign-in",className:"text-primary hover:underline",children:"Sign in"})]})]})}function M(){return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted/40 px-4 py-12",children:e.jsx(E,{})})}export{M as component};
