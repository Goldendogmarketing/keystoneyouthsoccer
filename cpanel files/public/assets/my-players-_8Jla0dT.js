import{k as g,l as p,j as e,r as C,n as y,o as P,s as a,_ as b}from"./main-Cj5NYhJq.js";import{u as v}from"./useQuery-Dpd-_BN-.js";import{u as N}from"./useMutation-Q6yEhfYM.js";import{C as F,b as S,a as q}from"./card-Ck-Z1Ioi.js";import{B as u}from"./button-cJjcAD9d.js";import{U as w}from"./user-8El9Vdva.js";import{S as L}from"./square-pen-B_Njxa3a.js";import{T as A}from"./trash-2-Bj50Vj3Q.js";import{u as D,a as R,F as B,c as n,d as i,e as t,f as l,g as d}from"./form-CC6udyyt.js";import{D as O,a as E,b as U,c as M,d as T,e as I}from"./dialog-CM6ugvJB.js";import{I as o}from"./input-DLMUXFSQ.js";import{S as Z,b as k,c as Q,d as V,e as f}from"./select-CFFWftmL.js";import{P as z}from"./plus-DeJg0nJ7.js";import{A as G,a as K}from"./alert-CMRyLF3j.js";import{U as Y}from"./users-C3BdU3O1.js";import"./useBaseQuery-BBplwDo0.js";import"./utils-CDN07tui.js";import"./index-B_jtOnfb.js";import"./label-CyVxfSYH.js";import"./index-DJ6iqbtG.js";import"./index-DGzlw-Oo.js";import"./x-nACMLnX-.js";const _=g({method:"GET"}).handler(p("28e52e52c279cab55987489b3a1d4381b712869b124bd35357c40bb8dfc4a7d2")),H=g({method:"POST"}).handler(p("4a4165c588a98d64015758a27896f41b9eb12cb679d09739c91fdd181e1ca5f7"));function $({player:c,onEdit:m,onDelete:x}){const r=new Date().getFullYear()-new Date(c.dateOfBirth).getFullYear();return e.jsxs(F,{className:"transition-all hover:shadow-md",children:[e.jsxs(S,{className:"flex flex-row items-start justify-between space-y-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:c.photoUrl?e.jsx("img",{src:c.photoUrl,alt:`${c.firstName} ${c.lastName}`,className:"h-16 w-16 rounded-full object-cover"}):e.jsx(w,{className:"h-8 w-8 text-primary"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold",children:[c.firstName," ",c.lastName]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Age ",r," â€¢ ",c.gender==="male"?"Male":"Female"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[m&&e.jsx(u,{variant:"outline",size:"sm",onClick:m,children:e.jsx(L,{className:"h-4 w-4"})}),x&&e.jsx(u,{variant:"outline",size:"sm",onClick:x,children:e.jsx(A,{className:"h-4 w-4"})})]})]}),e.jsx(q,{children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Born: ",new Date(c.dateOfBirth).toLocaleDateString()]})})]})}const J=g({method:"POST"}).handler(p("90df1dfd59e8e91808cd03f42d0903675614a82e723cc7887622af93f4100380")),W=P({firstName:a().min(2,"First name must be at least 2 characters"),lastName:a().min(2,"Last name must be at least 2 characters"),dateOfBirth:a().min(1,"Date of birth is required"),gender:b(["male","female"],{required_error:"Please select a gender"}),photoUrl:a().optional(),guardian1FirstName:a().min(2,"First name is required"),guardian1LastName:a().min(2,"Last name is required"),guardian1Email:a().email("Invalid email address"),guardian1Phone:a().min(10,"Phone number is required"),guardian1Relationship:a().min(1,"Relationship is required"),guardian1Address:a().min(5,"Address is required"),guardian1City:a().min(2,"City is required"),guardian1State:a().length(2,"State must be 2 characters"),guardian1ZipCode:a().min(5,"Zip code is required"),emergencyContact1FirstName:a().min(2,"First name is required"),emergencyContact1LastName:a().min(2,"Last name is required"),emergencyContact1Phone:a().min(10,"Phone number is required"),emergencyContact1Relationship:a().min(1,"Relationship is required")});function X(){const[c,m]=C.useState(!1),x=y(),r=D({resolver:R(W),defaultValues:{firstName:"",lastName:"",dateOfBirth:"",gender:void 0,photoUrl:"",guardian1FirstName:"",guardian1LastName:"",guardian1Email:"",guardian1Phone:"",guardian1Relationship:"Parent",guardian1Address:"",guardian1City:"",guardian1State:"",guardian1ZipCode:"",emergencyContact1FirstName:"",emergencyContact1LastName:"",emergencyContact1Phone:"",emergencyContact1Relationship:""}}),j=N({mutationFn:J,onSuccess:()=>{x.invalidateQueries({queryKey:["players"]}),m(!1),r.reset()}}),h=s=>{j.mutate({firstName:s.firstName,lastName:s.lastName,dateOfBirth:s.dateOfBirth,gender:s.gender,photoUrl:s.photoUrl,guardians:[{firstName:s.guardian1FirstName,lastName:s.guardian1LastName,email:s.guardian1Email,phone:s.guardian1Phone,relationship:s.guardian1Relationship,address:s.guardian1Address,city:s.guardian1City,state:s.guardian1State,zipCode:s.guardian1ZipCode}],emergencyContacts:[{firstName:s.emergencyContact1FirstName,lastName:s.emergencyContact1LastName,phone:s.emergencyContact1Phone,relationship:s.emergencyContact1Relationship}]})};return e.jsxs(O,{open:c,onOpenChange:m,children:[e.jsx(E,{asChild:!0,children:e.jsxs(u,{children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Add Player"]})}),e.jsxs(U,{className:"max-h-[90vh] overflow-y-auto",children:[e.jsxs(M,{children:[e.jsx(T,{children:"Add New Player"}),e.jsx(I,{children:"Create a new player profile. You can add more details later."})]}),e.jsx(B,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(h),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Player Information"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(n,{control:r.control,name:"firstName",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"First Name"}),e.jsx(l,{children:e.jsx(o,{...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"lastName",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"Last Name"}),e.jsx(l,{children:e.jsx(o,{...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"dateOfBirth",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"Date of Birth"}),e.jsx(l,{children:e.jsx(o,{type:"date",...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"gender",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"Gender"}),e.jsxs(Z,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(l,{children:e.jsx(k,{children:e.jsx(Q,{placeholder:"Select gender"})})}),e.jsxs(V,{children:[e.jsx(f,{value:"male",children:"Male"}),e.jsx(f,{value:"female",children:"Female"})]})]}),e.jsx(d,{})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Primary Guardian"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(n,{control:r.control,name:"guardian1FirstName",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"First Name"}),e.jsx(l,{children:e.jsx(o,{...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"guardian1LastName",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"Last Name"}),e.jsx(l,{children:e.jsx(o,{...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"guardian1Email",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"Email"}),e.jsx(l,{children:e.jsx(o,{type:"email",...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"guardian1Phone",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"Phone"}),e.jsx(l,{children:e.jsx(o,{...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"guardian1Address",render:({field:s})=>e.jsxs(i,{className:"md:col-span-2",children:[e.jsx(t,{children:"Address"}),e.jsx(l,{children:e.jsx(o,{...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"guardian1City",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"City"}),e.jsx(l,{children:e.jsx(o,{...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"guardian1State",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"State"}),e.jsx(l,{children:e.jsx(o,{maxLength:2,...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"guardian1ZipCode",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"Zip Code"}),e.jsx(l,{children:e.jsx(o,{...s})}),e.jsx(d,{})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Emergency Contact"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(n,{control:r.control,name:"emergencyContact1FirstName",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"First Name"}),e.jsx(l,{children:e.jsx(o,{...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"emergencyContact1LastName",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"Last Name"}),e.jsx(l,{children:e.jsx(o,{...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"emergencyContact1Phone",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"Phone"}),e.jsx(l,{children:e.jsx(o,{...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"emergencyContact1Relationship",render:({field:s})=>e.jsxs(i,{children:[e.jsx(t,{children:"Relationship"}),e.jsx(l,{children:e.jsx(o,{...s})}),e.jsx(d,{})]})})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(u,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(u,{type:"submit",disabled:j.isPending,children:j.isPending?"Adding...":"Add Player"})]})]})})]})]})}function Pe(){const c=y(),{data:m,isLoading:x}=v({queryKey:["players"],queryFn:async()=>await _()}),r=N({mutationFn:H,onSuccess:()=>{c.invalidateQueries({queryKey:["players"]})}}),j=async h=>{confirm("Are you sure you want to delete this player? This action cannot be undone.")&&await r.mutateAsync({id:h})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"My Players"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your player profiles"})]}),e.jsx(X,{})]}),x?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading players..."})}):m&&m.length>0?e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:m.map(h=>e.jsx($,{player:h,onEdit:()=>{console.log("Edit player:",h.id)},onDelete:()=>j(h.id)},h.id))}):e.jsxs(G,{children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx(K,{children:'No players yet. Click "Add Player" to create your first player profile.'})]})]})}export{Pe as component};
