import{p as v,v as Ut,w as Pt,$ as Bt,r as te,j as ae}from"./main-Cj5NYhJq.js";import{S as jt}from"./button-cJjcAD9d.js";import{c as xe}from"./utils-CDN07tui.js";import{L as Wt}from"./label-CyVxfSYH.js";var ge=e=>e.type==="checkbox",oe=e=>e instanceof Date,H=e=>e==null;const gt=e=>typeof e=="object";var O=e=>!H(e)&&!Array.isArray(e)&&gt(e)&&!oe(e),vt=e=>O(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,qt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,_t=(e,s)=>e.has(qt(s)),$t=e=>{const s=e.constructor&&e.constructor.prototype;return O(s)&&s.hasOwnProperty("isPrototypeOf")},Me=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(e){if(e instanceof Date)return new Date(e);const s=typeof FileList<"u"&&e instanceof FileList;if(Me&&(e instanceof Blob||s))return e;const t=Array.isArray(e);if(!t&&!(O(e)&&$t(e)))return e;const r=t?[]:Object.create(Object.getPrototypeOf(e));for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=M(e[o]));return r}var we=e=>/^\w*$/.test(e),p=e=>e===void 0,Te=e=>Array.isArray(e)?e.filter(Boolean):[],Ue=e=>Te(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,s,t)=>{if(!s||!O(e))return t;const r=(we(s)?[s]:Ue(s)).reduce((o,n)=>H(o)?o:o[n],e);return p(r)||r===e?p(e[s])?t:e[s]:r},K=e=>typeof e=="boolean",q=e=>typeof e=="function",k=(e,s,t)=>{let r=-1;const o=we(s)?[s]:Ue(s),n=o.length,l=n-1;for(;++r<n;){const c=o[r];let w=t;if(r!==l){const S=e[c];w=O(S)||Array.isArray(S)?S:isNaN(+o[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=w,e=e[c]}};const be={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ie={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Pe=v.createContext(null);Pe.displayName="HookFormContext";const Ae=()=>v.useContext(Pe),Ht=e=>{const{children:s,...t}=e;return v.createElement(Pe.Provider,{value:t},s)};var bt=(e,s,t,r=!0)=>{const o={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const l=n;return s._proxyFormState[l]!==Q.all&&(s._proxyFormState[l]=!r||Q.all),t&&(t[l]=!0),e[l]}});return o};const Be=typeof window<"u"?v.useLayoutEffect:v.useEffect;function zt(e){const s=Ae(),{control:t=s.control,disabled:r,name:o,exact:n}=e||{},[l,c]=v.useState(t._formState),w=v.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Be(()=>t._subscribe({name:o,formState:w.current,exact:n,callback:S=>{!r&&c({...t._formState,...S})}}),[o,r,n]),v.useEffect(()=>{w.current.isValid&&t._setValid(!0)},[t]),v.useMemo(()=>bt(l,t,w.current,!1),[l,t])}var Z=e=>typeof e=="string",Oe=(e,s,t,r,o)=>Z(e)?(r&&s.watch.add(e),y(t,e,o)):Array.isArray(e)?e.map(n=>(r&&s.watch.add(n),y(t,n))):(r&&(s.watchAll=!0),t),Ie=e=>H(e)||!gt(e);function X(e,s,t=new WeakSet){if(Ie(e)||Ie(s))return Object.is(e,s);if(oe(e)&&oe(s))return e.getTime()===s.getTime();const r=Object.keys(e),o=Object.keys(s);if(r.length!==o.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const n of r){const l=e[n];if(!o.includes(n))return!1;if(n!=="ref"){const c=s[n];if(oe(l)&&oe(c)||O(l)&&O(c)||Array.isArray(l)&&Array.isArray(c)?!X(l,c,t):!Object.is(l,c))return!1}}return!0}function Kt(e){const s=Ae(),{control:t=s.control,name:r,defaultValue:o,disabled:n,exact:l,compute:c}=e||{},w=v.useRef(o),S=v.useRef(c),T=v.useRef(void 0),g=v.useRef(t),E=v.useRef(r);S.current=c;const[_,B]=v.useState(()=>{const V=t._getWatch(r,w.current);return S.current?S.current(V):V}),I=v.useCallback(V=>{const x=Oe(r,t._names,V||t._formValues,!1,w.current);return S.current?S.current(x):x},[t._formValues,t._names,r]),U=v.useCallback(V=>{if(!n){const x=Oe(r,t._names,V||t._formValues,!1,w.current);if(S.current){const $=S.current(x);X($,T.current)||(B($),T.current=$)}else B(x)}},[t._formValues,t._names,n,r]);Be(()=>((g.current!==t||!X(E.current,r))&&(g.current=t,E.current=r,U()),t._subscribe({name:r,formState:{values:!0},exact:l,callback:V=>{U(V.values)}})),[t,l,r,U]),v.useEffect(()=>t._removeUnmounted());const N=g.current!==t,b=E.current,j=v.useMemo(()=>{if(n)return null;const V=!N&&!X(b,r);return N||V?I():null},[n,N,r,b,I]);return j!==null?j:_}function Zt(e){const s=Ae(),{name:t,disabled:r,control:o=s.control,shouldUnregister:n,defaultValue:l,exact:c=!0}=e,w=_t(o._names.array,t),S=v.useMemo(()=>y(o._formValues,t,y(o._defaultValues,t,l)),[o,t,l]),T=Kt({control:o,name:t,defaultValue:S,exact:c}),g=zt({control:o,name:t,exact:c}),E=v.useRef(e),_=v.useRef(void 0),B=v.useRef(o.register(t,{...e.rules,value:T,...K(e.disabled)?{disabled:e.disabled}:{}}));E.current=e;const I=v.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(g.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(g.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(g.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(g.validatingFields,t)},error:{enumerable:!0,get:()=>y(g.errors,t)}}),[g,t]),U=v.useCallback(V=>B.current.onChange({target:{value:vt(V),name:t},type:be.CHANGE}),[t]),N=v.useCallback(()=>B.current.onBlur({target:{value:y(o._formValues,t),name:t},type:be.BLUR}),[t,o._formValues]),b=v.useCallback(V=>{const x=y(o._fields,t);x&&x._f&&V&&(x._f.ref={focus:()=>q(V.focus)&&V.focus(),select:()=>q(V.select)&&V.select(),setCustomValidity:$=>q(V.setCustomValidity)&&V.setCustomValidity($),reportValidity:()=>q(V.reportValidity)&&V.reportValidity()})},[o._fields,t]),j=v.useMemo(()=>({name:t,value:T,...K(r)||g.disabled?{disabled:g.disabled||r}:{},onChange:U,onBlur:N,ref:b}),[t,r,g.disabled,U,N,b,T]);return v.useEffect(()=>{const V=o._options.shouldUnregister||n,x=_.current;x&&x!==t&&!w&&o.unregister(x),o.register(t,{...E.current.rules,...K(E.current.disabled)?{disabled:E.current.disabled}:{}});const $=(re,se)=>{const ee=y(o._fields,re);ee&&ee._f&&(ee._f.mount=se)};if($(t,!0),V){const re=M(y(o._options.defaultValues,t,E.current.defaultValue));k(o._defaultValues,t,re),p(y(o._formValues,t))&&k(o._formValues,t,re)}return!w&&o.register(t),_.current=t,()=>{(w?V&&!o._state.action:V)?o.unregister(t):$(t,!1)}},[t,o,w,n]),v.useEffect(()=>{o._setDisabledField({disabled:r,name:t})},[r,t,o]),v.useMemo(()=>({field:j,formState:g,fieldState:I}),[j,g,I])}const Gt=e=>e.render(Zt(e));var je=(e,s,t,r,o)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[r]:o||!0}}:{},me=e=>Array.isArray(e)?e:[e],tt=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}};function Vt(e,s){const t={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r],n=s[r];if(o&&O(o)&&n){const l=Vt(o,n);O(l)&&(t[r]=l)}else e[r]&&(t[r]=n)}return t}var W=e=>O(e)&&!Object.keys(e).length,We=e=>e.type==="file",Ve=e=>{if(!Me)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Ft=e=>e.type==="select-multiple",qe=e=>e.type==="radio",Yt=e=>qe(e)||ge(e),Re=e=>Ve(e)&&e.isConnected;function Jt(e,s){const t=s.slice(0,-1).length;let r=0;for(;r<t;)e=p(e)?r++:e[s[r++]];return e}function Qt(e){for(const s in e)if(e.hasOwnProperty(s)&&!p(e[s]))return!1;return!0}function R(e,s){const t=Array.isArray(s)?s:we(s)?[s]:Ue(s),r=t.length===1?e:Jt(e,t),o=t.length-1,n=t[o];return r&&delete r[n],o!==0&&(O(r)&&W(r)||Array.isArray(r)&&Qt(r))&&R(e,t.slice(0,-1)),e}var Xt=e=>{for(const s in e)if(q(e[s]))return!0;return!1};function xt(e){return Array.isArray(e)||O(e)&&!Xt(e)}function Ne(e,s={}){for(const t in e){const r=e[t];xt(r)?(s[t]=Array.isArray(r)?[]:{},Ne(r,s[t])):p(r)||(s[t]=!0)}return s}function le(e,s,t){t||(t=Ne(s));for(const r in e){const o=e[r];if(xt(o))p(s)||Ie(t[r])?t[r]=Ne(o,Array.isArray(o)?[]:{}):le(o,H(s)?{}:s[r],t[r]);else{const n=s[r];t[r]=!X(o,n)}}return t}const rt={value:!1,isValid:!1},st={value:!0,isValid:!0};var wt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!p(e[0].attributes.value)?p(e[0].value)||e[0].value===""?st:{value:e[0].value,isValid:!0}:st:rt}return rt},At=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:r})=>p(e)?e:s?e===""?NaN:e&&+e:t&&Z(e)?new Date(e):r?r(e):e;const it={isValid:!1,value:null};var Et=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,it):it;function nt(e){const s=e.ref;return We(s)?s.files:qe(s)?Et(e.refs).value:Ft(s)?[...s.selectedOptions].map(({value:t})=>t):ge(s)?wt(e.refs).value:At(p(s.value)?e.ref.value:s.value,e)}var er=(e,s,t,r)=>{const o={};for(const n of e){const l=y(s,n);l&&k(o,n,l._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:r}},Fe=e=>e instanceof RegExp,ye=e=>p(e)?e:Fe(e)?e.source:O(e)?Fe(e.value)?e.value.source:e.value:e,at=e=>({isOnSubmit:!e||e===Q.onSubmit,isOnBlur:e===Q.onBlur,isOnChange:e===Q.onChange,isOnAll:e===Q.all,isOnTouch:e===Q.onTouched});const ot="AsyncFunction";var tr=e=>!!e&&!!e.validate&&!!(q(e.validate)&&e.validate.constructor.name===ot||O(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===ot)),rr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ut=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const he=(e,s,t,r)=>{for(const o of t||Object.keys(e)){const n=y(e,o);if(n){const{_f:l,...c}=n;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],o)&&!r)return!0;if(l.ref&&s(l.ref,l.name)&&!r)return!0;if(he(c,s))break}else if(O(c)&&he(c,s))break}}};function lt(e,s,t){const r=y(e,t);if(r||we(t))return{error:r,name:t};const o=t.split(".");for(;o.length;){const n=o.join("."),l=y(s,n),c=y(e,n);if(l&&!Array.isArray(l)&&t!==n)return{name:t};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};o.pop()}return{name:t}}var sr=(e,s,t,r)=>{t(e);const{name:o,...n}=e;return W(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(l=>s[l]===(!r||Q.all))},ir=(e,s,t)=>!e||!s||e===s||me(e).some(r=>r&&(t?r===s:r.startsWith(s)||s.startsWith(r))),nr=(e,s,t,r,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(s||e):(t?r.isOnBlur:o.isOnBlur)?!e:(t?r.isOnChange:o.isOnChange)?e:!0,ar=(e,s)=>!Te(y(e,s)).length&&R(e,s),or=(e,s,t)=>{const r=me(y(e,t));return k(r,"root",s[t]),k(e,t,r),e};function ct(e,s,t="validate"){if(Z(e)||Array.isArray(e)&&e.every(Z)||K(e)&&!e)return{type:t,message:Z(e)?e:"",ref:s}}var ue=e=>O(e)&&!Fe(e)?e:{value:e,message:""},dt=async(e,s,t,r,o,n)=>{const{ref:l,refs:c,required:w,maxLength:S,minLength:T,min:g,max:E,pattern:_,validate:B,name:I,valueAsNumber:U,mount:N}=e._f,b=y(t,I);if(!N||s.has(I))return{};const j=c?c[0]:l,V=F=>{o&&j.reportValidity&&(j.setCustomValidity(K(F)?"":F||""),j.reportValidity())},x={},$=qe(l),re=ge(l),se=$||re,ee=(U||We(l))&&p(l.value)&&p(b)||Ve(l)&&l.value===""||b===""||Array.isArray(b)&&!b.length,G=je.bind(null,I,r,x),ve=(F,A,L,P=ie.maxLength,J=ie.minLength)=>{const z=F?A:L;x[I]={type:F?P:J,message:z,ref:l,...G(F?P:J,z)}};if(n?!Array.isArray(b)||!b.length:w&&(!se&&(ee||H(b))||K(b)&&!b||re&&!wt(c).isValid||$&&!Et(c).isValid)){const{value:F,message:A}=Z(w)?{value:!!w,message:w}:ue(w);if(F&&(x[I]={type:ie.required,message:A,ref:j,...G(ie.required,A)},!r))return V(A),x}if(!ee&&(!H(g)||!H(E))){let F,A;const L=ue(E),P=ue(g);if(!H(b)&&!isNaN(b)){const J=l.valueAsNumber||b&&+b;H(L.value)||(F=J>L.value),H(P.value)||(A=J<P.value)}else{const J=l.valueAsDate||new Date(b),z=fe=>new Date(new Date().toDateString()+" "+fe),ce=l.type=="time",de=l.type=="week";Z(L.value)&&b&&(F=ce?z(b)>z(L.value):de?b>L.value:J>new Date(L.value)),Z(P.value)&&b&&(A=ce?z(b)<z(P.value):de?b<P.value:J<new Date(P.value))}if((F||A)&&(ve(!!F,L.message,P.message,ie.max,ie.min),!r))return V(x[I].message),x}if((S||T)&&!ee&&(Z(b)||n&&Array.isArray(b))){const F=ue(S),A=ue(T),L=!H(F.value)&&b.length>+F.value,P=!H(A.value)&&b.length<+A.value;if((L||P)&&(ve(L,F.message,A.message),!r))return V(x[I].message),x}if(_&&!ee&&Z(b)){const{value:F,message:A}=ue(_);if(Fe(F)&&!b.match(F)&&(x[I]={type:ie.pattern,message:A,ref:l,...G(ie.pattern,A)},!r))return V(A),x}if(B){if(q(B)){const F=await B(b,t),A=ct(F,j);if(A&&(x[I]={...A,...G(ie.validate,A.message)},!r))return V(A.message),x}else if(O(B)){let F={};for(const A in B){if(!W(F)&&!r)break;const L=ct(await B[A](b,t),j,A);L&&(F={...L,...G(A,L.message)},V(L.message),r&&(x[I]=F))}if(!W(F)&&(x[I]={ref:j,...F},!r))return x}}return V(!0),x};const ur={mode:Q.onSubmit,reValidateMode:Q.onChange,shouldFocusError:!0};function lr(e={}){let s={...ur,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:q(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},r={},o=O(s.defaultValues)||O(s.values)?M(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:M(o),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},w,S=0;const T={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={...T};let E={...g};const _={array:tt(),state:tt()},B=s.criteriaMode===Q.all,I=i=>a=>{clearTimeout(S),S=setTimeout(i,a)},U=async i=>{if(!l.keepIsValid&&!s.disabled&&(g.isValid||E.isValid||i)){let a;s.resolver?(a=W((await se()).errors),N()):a=await G(r,!0),a!==t.isValid&&_.state.next({isValid:a})}},N=(i,a)=>{!s.disabled&&(g.isValidating||g.validatingFields||E.isValidating||E.validatingFields)&&((i||Array.from(c.mount)).forEach(u=>{u&&(a?k(t.validatingFields,u,a):R(t.validatingFields,u))}),_.state.next({validatingFields:t.validatingFields,isValidating:!W(t.validatingFields)}))},b=(i,a=[],u,m,f=!0,d=!0)=>{if(m&&u&&!s.disabled){if(l.action=!0,d&&Array.isArray(y(r,i))){const h=u(y(r,i),m.argA,m.argB);f&&k(r,i,h)}if(d&&Array.isArray(y(t.errors,i))){const h=u(y(t.errors,i),m.argA,m.argB);f&&k(t.errors,i,h),ar(t.errors,i)}if((g.touchedFields||E.touchedFields)&&d&&Array.isArray(y(t.touchedFields,i))){const h=u(y(t.touchedFields,i),m.argA,m.argB);f&&k(t.touchedFields,i,h)}(g.dirtyFields||E.dirtyFields)&&(t.dirtyFields=le(o,n)),_.state.next({name:i,isDirty:F(i,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else k(n,i,a)},j=(i,a)=>{k(t.errors,i,a),_.state.next({errors:t.errors})},V=i=>{t.errors=i,_.state.next({errors:t.errors,isValid:!1})},x=(i,a,u,m)=>{const f=y(r,i);if(f){const d=y(n,i,p(u)?y(o,i):u);p(d)||m&&m.defaultChecked||a?k(n,i,a?d:nt(f._f)):P(i,d),l.mount&&!l.action&&U()}},$=(i,a,u,m,f)=>{let d=!1,h=!1;const D={name:i};if(!s.disabled){if(!u||m){(g.isDirty||E.isDirty)&&(h=t.isDirty,t.isDirty=D.isDirty=F(),d=h!==D.isDirty);const C=X(y(o,i),a);h=!!y(t.dirtyFields,i),C?R(t.dirtyFields,i):k(t.dirtyFields,i,!0),D.dirtyFields=t.dirtyFields,d=d||(g.dirtyFields||E.dirtyFields)&&h!==!C}if(u){const C=y(t.touchedFields,i);C||(k(t.touchedFields,i,u),D.touchedFields=t.touchedFields,d=d||(g.touchedFields||E.touchedFields)&&C!==u)}d&&f&&_.state.next(D)}return d?D:{}},re=(i,a,u,m)=>{const f=y(t.errors,i),d=(g.isValid||E.isValid)&&K(a)&&t.isValid!==a;if(s.delayError&&u?(w=I(()=>j(i,u)),w(s.delayError)):(clearTimeout(S),w=null,u?k(t.errors,i,u):R(t.errors,i)),(u?!X(f,u):f)||!W(m)||d){const h={...m,...d&&K(a)?{isValid:a}:{},errors:t.errors,name:i};t={...t,...h},_.state.next(h)}},se=async i=>(N(i,!0),await s.resolver(n,s.context,er(i||c.mount,r,s.criteriaMode,s.shouldUseNativeValidation))),ee=async i=>{const{errors:a}=await se(i);if(N(i),i)for(const u of i){const m=y(a,u);m?k(t.errors,u,m):R(t.errors,u)}else t.errors=a;return a},G=async(i,a,u={valid:!0})=>{for(const m in i){const f=i[m];if(f){const{_f:d,...h}=f;if(d){const D=c.array.has(d.name),C=f._f&&tr(f._f);C&&g.validatingFields&&N([d.name],!0);const Y=await dt(f,c.disabled,n,B,s.shouldUseNativeValidation&&!a,D);if(C&&g.validatingFields&&N([d.name]),Y[d.name]&&(u.valid=!1,a))break;!a&&(y(Y,d.name)?D?or(t.errors,Y,d.name):k(t.errors,d.name,Y[d.name]):R(t.errors,d.name))}!W(h)&&await G(h,a,u)}}return u.valid},ve=()=>{for(const i of c.unMount){const a=y(r,i);a&&(a._f.refs?a._f.refs.every(u=>!Re(u)):!Re(a._f.ref))&&De(i)}c.unMount=new Set},F=(i,a)=>!s.disabled&&(i&&a&&k(n,i,a),!X($e(),o)),A=(i,a,u)=>Oe(i,c,{...l.mount?n:p(a)?o:Z(i)?{[i]:a}:a},u,a),L=i=>Te(y(l.mount?n:o,i,s.shouldUnregister?y(o,i,[]):[])),P=(i,a,u={})=>{const m=y(r,i);let f=a;if(m){const d=m._f;d&&(!d.disabled&&k(n,i,At(a,d)),f=Ve(d.ref)&&H(a)?"":a,Ft(d.ref)?[...d.ref.options].forEach(h=>h.selected=f.includes(h.value)):d.refs?ge(d.ref)?d.refs.forEach(h=>{(!h.defaultChecked||!h.disabled)&&(Array.isArray(f)?h.checked=!!f.find(D=>D===h.value):h.checked=f===h.value||!!f)}):d.refs.forEach(h=>h.checked=h.value===f):We(d.ref)?d.ref.value="":(d.ref.value=f,d.ref.type||_.state.next({name:i,values:M(n)})))}(u.shouldDirty||u.shouldTouch)&&$(i,f,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&fe(i)},J=(i,a,u)=>{for(const m in a){if(!a.hasOwnProperty(m))return;const f=a[m],d=i+"."+m,h=y(r,d);(c.array.has(i)||O(f)||h&&!h._f)&&!oe(f)?J(d,f,u):P(d,f,u)}},z=(i,a,u={})=>{const m=y(r,i),f=c.array.has(i),d=M(a);k(n,i,d),f?(_.array.next({name:i,values:M(n)}),(g.isDirty||g.dirtyFields||E.isDirty||E.dirtyFields)&&u.shouldDirty&&_.state.next({name:i,dirtyFields:le(o,n),isDirty:F(i,d)})):m&&!m._f&&!H(d)?J(i,d,u):P(i,d,u),ut(i,c)&&_.state.next({...t,name:i}),_.state.next({name:l.mount?i:void 0,values:M(n)})},ce=async i=>{l.mount=!0;const a=i.target;let u=a.name,m=!0;const f=y(r,u),d=C=>{m=Number.isNaN(C)||oe(C)&&isNaN(C.getTime())||X(C,y(n,u,C))},h=at(s.mode),D=at(s.reValidateMode);if(f){let C,Y;const _e=a.type?nt(f._f):vt(i),ne=i.type===be.BLUR||i.type===be.FOCUS_OUT,Lt=!rr(f._f)&&!s.resolver&&!y(t.errors,u)&&!f._f.deps||nr(ne,y(t.touchedFields,u),t.isSubmitted,D,h),Ce=ut(u,c,ne);k(n,u,_e),ne?(!a||!a.readOnly)&&(f._f.onBlur&&f._f.onBlur(i),w&&w(0)):f._f.onChange&&f._f.onChange(i);const pe=$(u,_e,ne),Mt=!W(pe)||Ce;if(!ne&&_.state.next({name:u,type:i.type,values:M(n)}),Lt)return(g.isValid||E.isValid)&&(s.mode==="onBlur"?ne&&U():ne||U()),Mt&&_.state.next({name:u,...Ce?{}:pe});if(!ne&&Ce&&_.state.next({...t}),s.resolver){const{errors:Xe}=await se([u]);if(N([u]),d(_e),m){const Tt=lt(t.errors,r,u),et=lt(Xe,r,Tt.name||u);C=et.error,u=et.name,Y=W(Xe)}}else N([u],!0),C=(await dt(f,c.disabled,n,B,s.shouldUseNativeValidation))[u],N([u]),d(_e),m&&(C?Y=!1:(g.isValid||E.isValid)&&(Y=await G(r,!0)));m&&(f._f.deps&&(!Array.isArray(f._f.deps)||f._f.deps.length>0)&&fe(f._f.deps),re(u,Y,C,pe))}},de=(i,a)=>{if(y(t.errors,a)&&i.focus)return i.focus(),1},fe=async(i,a={})=>{let u,m;const f=me(i);if(s.resolver){const d=await ee(p(i)?i:f);u=W(d),m=i?!f.some(h=>y(d,h)):u}else i?(m=(await Promise.all(f.map(async d=>{const h=y(r,d);return await G(h&&h._f?{[d]:h}:h)}))).every(Boolean),!(!m&&!t.isValid)&&U()):m=u=await G(r);return _.state.next({...!Z(i)||(g.isValid||E.isValid)&&u!==t.isValid?{}:{name:i},...s.resolver||!i?{isValid:u}:{},errors:t.errors}),a.shouldFocus&&!m&&he(r,de,i?f:c.mount),m},$e=(i,a)=>{let u={...l.mount?n:o};return a&&(u=Vt(a.dirtyFields?t.dirtyFields:t.touchedFields,u)),p(i)?u:Z(i)?y(u,i):i.map(m=>y(u,m))},He=(i,a)=>({invalid:!!y((a||t).errors,i),isDirty:!!y((a||t).dirtyFields,i),error:y((a||t).errors,i),isValidating:!!y(t.validatingFields,i),isTouched:!!y((a||t).touchedFields,i)}),St=i=>{i&&me(i).forEach(a=>R(t.errors,a)),_.state.next({errors:i?t.errors:{}})},ze=(i,a,u)=>{const m=(y(r,i,{_f:{}})._f||{}).ref,f=y(t.errors,i)||{},{ref:d,message:h,type:D,...C}=f;k(t.errors,i,{...C,...a,ref:m}),_.state.next({name:i,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&m&&m.focus&&m.focus()},Ct=(i,a)=>q(i)?_.state.subscribe({next:u=>"values"in u&&i(A(void 0,a),u)}):A(i,a,!0),Ke=i=>_.state.subscribe({next:a=>{ir(i.name,a.name,i.exact)&&sr(a,i.formState||g,Nt,i.reRenderRoot)&&i.callback({values:{...n},...t,...a,defaultValues:o})}}).unsubscribe,pt=i=>(l.mount=!0,E={...E,...i.formState},Ke({...i,formState:{...T,...i.formState}})),De=(i,a={})=>{for(const u of i?me(i):c.mount)c.mount.delete(u),c.array.delete(u),a.keepValue||(R(r,u),R(n,u)),!a.keepError&&R(t.errors,u),!a.keepDirty&&R(t.dirtyFields,u),!a.keepTouched&&R(t.touchedFields,u),!a.keepIsValidating&&R(t.validatingFields,u),!s.shouldUnregister&&!a.keepDefaultValue&&R(o,u);_.state.next({values:M(n)}),_.state.next({...t,...a.keepDirty?{isDirty:F()}:{}}),!a.keepIsValid&&U()},Ze=({disabled:i,name:a})=>{(K(i)&&l.mount||i||c.disabled.has(a))&&(i?c.disabled.add(a):c.disabled.delete(a))},ke=(i,a={})=>{let u=y(r,i);const m=K(a.disabled)||K(s.disabled);return k(r,i,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:i}},name:i,mount:!0,...a}}),c.mount.add(i),u?Ze({disabled:K(a.disabled)?a.disabled:s.disabled,name:i}):x(i,!0,a.value),{...m?{disabled:a.disabled||s.disabled}:{},...s.progressive?{required:!!a.required,min:ye(a.min),max:ye(a.max),minLength:ye(a.minLength),maxLength:ye(a.maxLength),pattern:ye(a.pattern)}:{},name:i,onChange:ce,onBlur:ce,ref:f=>{if(f){ke(i,a),u=y(r,i);const d=p(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,h=Yt(d),D=u._f.refs||[];if(h?D.find(C=>C===d):d===u._f.ref)return;k(r,i,{_f:{...u._f,...h?{refs:[...D.filter(Re),d,...Array.isArray(y(o,i))?[{}]:[]],ref:{type:d.type,name:i}}:{ref:d}}}),x(i,!1,void 0,d)}else u=y(r,i,{}),u._f&&(u._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(_t(c.array,i)&&l.action)&&c.unMount.add(i)}}},Se=()=>s.shouldFocusError&&he(r,de,c.mount),Rt=i=>{K(i)&&(_.state.next({disabled:i}),he(r,(a,u)=>{const m=y(r,u);m&&(a.disabled=m._f.disabled||i,Array.isArray(m._f.refs)&&m._f.refs.forEach(f=>{f.disabled=m._f.disabled||i}))},0,!1))},Ge=(i,a)=>async u=>{let m;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let f=M(n);if(_.state.next({isSubmitting:!0}),s.resolver){const{errors:d,values:h}=await se();N(),t.errors=d,f=M(h)}else await G(r);if(c.disabled.size)for(const d of c.disabled)R(f,d);if(R(t.errors,"root"),W(t.errors)){_.state.next({errors:{}});try{await i(f,u)}catch(d){m=d}}else a&&await a({...t.errors},u),Se(),setTimeout(Se);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:W(t.errors)&&!m,submitCount:t.submitCount+1,errors:t.errors}),m)throw m},Ot=(i,a={})=>{y(r,i)&&(p(a.defaultValue)?z(i,M(y(o,i))):(z(i,a.defaultValue),k(o,i,M(a.defaultValue))),a.keepTouched||R(t.touchedFields,i),a.keepDirty||(R(t.dirtyFields,i),t.isDirty=a.defaultValue?F(i,M(y(o,i))):F()),a.keepError||(R(t.errors,i),g.isValid&&U()),_.state.next({...t}))},Ye=(i,a={})=>{const u=i?M(i):o,m=M(u),f=W(i),d=f?o:m;if(a.keepDefaultValues||(o=u),!a.keepValues){if(a.keepDirtyValues){const h=new Set([...c.mount,...Object.keys(le(o,n))]);for(const D of Array.from(h))y(t.dirtyFields,D)?k(d,D,y(n,D)):z(D,y(d,D))}else{if(Me&&p(i))for(const h of c.mount){const D=y(r,h);if(D&&D._f){const C=Array.isArray(D._f.refs)?D._f.refs[0]:D._f.ref;if(Ve(C)){const Y=C.closest("form");if(Y){Y.reset();break}}}}if(a.keepFieldsRef)for(const h of c.mount)z(h,y(d,h));else r={}}n=s.shouldUnregister?a.keepDefaultValues?M(o):{}:M(d),_.array.next({values:{...d}}),_.state.next({values:{...d}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!g.isValid||!!a.keepIsValid||!!a.keepDirtyValues||!s.shouldUnregister&&!W(d),l.watch=!!s.shouldUnregister,l.keepIsValid=!!a.keepIsValid,l.action=!1,a.keepErrors||(t.errors={}),_.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:f?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!X(i,o)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&n?le(o,n):t.dirtyFields:a.keepDefaultValues&&i?le(o,i):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Je=(i,a)=>Ye(q(i)?i(n):i,{...s.resetOptions,...a}),It=(i,a={})=>{const u=y(r,i),m=u&&u._f;if(m){const f=m.refs?m.refs[0]:m.ref;f.focus&&setTimeout(()=>{f.focus(),a.shouldSelect&&q(f.select)&&f.select()})}},Nt=i=>{t={...t,...i}},Qe={control:{register:ke,unregister:De,getFieldState:He,handleSubmit:Ge,setError:ze,_subscribe:Ke,_runSchema:se,_updateIsValidating:N,_focusError:Se,_getWatch:A,_getDirty:F,_setValid:U,_setFieldArray:b,_setDisabledField:Ze,_setErrors:V,_getFieldArray:L,_reset:Ye,_resetDefaultValues:()=>q(s.defaultValues)&&s.defaultValues().then(i=>{Je(i,s.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:ve,_disableForm:Rt,_subjects:_,_proxyFormState:g,get _fields(){return r},get _formValues(){return n},get _state(){return l},set _state(i){l=i},get _defaultValues(){return o},get _names(){return c},set _names(i){c=i},get _formState(){return t},get _options(){return s},set _options(i){s={...s,...i}}},subscribe:pt,trigger:fe,register:ke,handleSubmit:Ge,watch:Ct,setValue:z,getValues:$e,reset:Je,resetField:Ot,clearErrors:St,unregister:De,setError:ze,setFocus:It,getFieldState:He};return{...Qe,formControl:Qe}}function wr(e={}){const s=v.useRef(void 0),t=v.useRef(void 0),[r,o]=v.useState({isDirty:!1,isValidating:!1,isLoading:q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:q(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:r},e.defaultValues&&!q(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...c}=lr(e);s.current={...c,formState:r}}const n=s.current.control;return n._options=e,Be(()=>{const l=n._subscribe({formState:n._proxyFormState,callback:()=>o({...n._formState}),reRenderRoot:!0});return o(c=>({...c,isReady:!0})),n._formState.isReady=!0,l},[n]),v.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),v.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),v.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),v.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),v.useEffect(()=>{if(n._proxyFormState.isDirty){const l=n._getDirty();l!==r.isDirty&&n._subjects.state.next({isDirty:l})}},[n,r.isDirty]),v.useEffect(()=>{var l;e.values&&!X(e.values,t.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),!((l=n._options.resetOptions)===null||l===void 0)&&l.keepIsValid||n._setValid(),t.current=e.values,o(c=>({...c}))):n._resetDefaultValues()},[n,e.values]),v.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=bt(r,n),s.current}const ft=(e,s,t)=>{if(e&&"reportValidity"in e){const r=y(t,s);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Le=(e,s)=>{for(const t in s.fields){const r=s.fields[t];r&&r.ref&&"reportValidity"in r.ref?ft(r.ref,t,e):r&&r.refs&&r.refs.forEach(o=>ft(o,t,e))}},yt=(e,s)=>{s.shouldUseNativeValidation&&Le(e,s);const t={};for(const r in e){const o=y(s.fields,r),n=Object.assign(e[r]||{},{ref:o&&o.ref});if(cr(s.names||Object.keys(e),r)){const l=Object.assign({},y(t,r));k(l,"root",n),k(t,r,l)}else k(t,r,n)}return t},cr=(e,s)=>{const t=mt(s);return e.some(r=>mt(r).match(`^${t}\\.\\d+`))};function mt(e){return e.replace(/\]|\[/g,"")}function ht(e,s){try{var t=e()}catch(r){return s(r)}return t&&t.then?t.then(void 0,s):t}function dr(e,s){for(var t={};e.length;){var r=e[0],o=r.code,n=r.message,l=r.path.join(".");if(!t[l])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];t[l]={message:c.message,type:c.code}}else t[l]={message:n,type:o};if("unionErrors"in r&&r.unionErrors.forEach(function(T){return T.errors.forEach(function(g){return e.push(g)})}),s){var w=t[l].types,S=w&&w[r.code];t[l]=je(l,s,t,o,S?[].concat(S,r.message):r.message)}e.shift()}return t}function fr(e,s){for(var t={};e.length;){var r=e[0],o=r.code,n=r.message,l=r.path.join(".");if(!t[l])if(r.code==="invalid_union"&&r.errors.length>0){var c=r.errors[0][0];t[l]={message:c.message,type:c.code}}else t[l]={message:n,type:o};if(r.code==="invalid_union"&&r.errors.forEach(function(T){return T.forEach(function(g){return e.push(g)})}),s){var w=t[l].types,S=w&&w[r.code];t[l]=je(l,s,t,o,S?[].concat(S,r.message):r.message)}e.shift()}return t}function Ar(e,s,t){if(t===void 0&&(t={}),(function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def})(e))return function(r,o,n){try{return Promise.resolve(ht(function(){return Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](r,s)).then(function(l){return n.shouldUseNativeValidation&&Le({},n),{errors:{},values:t.raw?Object.assign({},r):l}})},function(l){if((function(c){return Array.isArray(c?.issues)})(l))return{values:{},errors:yt(dr(l.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}};if((function(r){return"_zod"in r&&typeof r._zod=="object"})(e))return function(r,o,n){try{return Promise.resolve(ht(function(){return Promise.resolve((t.mode==="sync"?Ut:Pt)(e,r,s)).then(function(l){return n.shouldUseNativeValidation&&Le({},n),{errors:{},values:t.raw?Object.assign({},r):l}})},function(l){if((function(c){return c instanceof Bt})(l))return{values:{},errors:yt(fr(l.issues,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const Er=Ht,Dt=te.createContext({}),Dr=({...e})=>ae.jsx(Dt.Provider,{value:{name:e.name},children:ae.jsx(Gt,{...e})}),Ee=()=>{const e=te.useContext(Dt),s=te.useContext(kt),{getFieldState:t,formState:r}=Ae(),o=t(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:n}=s;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...o}},kt=te.createContext({}),yr=te.forwardRef(({className:e,...s},t)=>{const r=te.useId();return ae.jsx(kt.Provider,{value:{id:r},children:ae.jsx("div",{ref:t,className:xe("space-y-2",e),...s})})});yr.displayName="FormItem";const mr=te.forwardRef(({className:e,...s},t)=>{const{error:r,formItemId:o}=Ee();return ae.jsx(Wt,{ref:t,className:xe(r&&"text-destructive",e),htmlFor:o,...s})});mr.displayName="FormLabel";const hr=te.forwardRef(({...e},s)=>{const{error:t,formItemId:r,formDescriptionId:o,formMessageId:n}=Ee();return ae.jsx(jt,{ref:s,id:r,"aria-describedby":t?`${o} ${n}`:`${o}`,"aria-invalid":!!t,...e})});hr.displayName="FormControl";const gr=te.forwardRef(({className:e,...s},t)=>{const{formDescriptionId:r}=Ee();return ae.jsx("p",{ref:t,id:r,className:xe("text-sm text-muted-foreground",e),...s})});gr.displayName="FormDescription";const vr=te.forwardRef(({className:e,children:s,...t},r)=>{const{error:o,formMessageId:n}=Ee(),l=o?String(o?.message):s;return l?ae.jsx("p",{ref:r,id:n,className:xe("text-sm font-medium text-destructive",e),...t,children:l}):null});vr.displayName="FormMessage";export{Er as F,Ar as a,Kt as b,Dr as c,yr as d,mr as e,hr as f,vr as g,gr as h,wr as u};
